service: public-badges-api
variablesResolutionMode: 20210326
  

custom:
  parameter_prefix: public-badges/${opt:stage}
  registry_bucket: ${ssm:/${self:custom.parameter_prefix}/registry/bucket}
  registry_lookup: ${ssm:/${self:custom.parameter_prefix}/registry/lookup_table}
  organization-status-index: ${ssm:/${self:custom.parameter_prefix}/registry/indices/organization_status}
  role: ${ssm:/${self:custom.parameter_prefix}/api/role}
  graphql: public-badges-${opt:stage}-graphql

provider:
  name: aws
  runtime: nodejs10.x
  region: eu-west-1
  lambdaHashingVersion: 20201221
  iam:
    role: ${self:custom.role}

functions:
  graphql: ${file(./api/graphql-config.yml)}
